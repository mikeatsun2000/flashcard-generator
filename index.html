<!DOCTYPE html>
<html>
<head>
<title>Flashcard Generator</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href = 'index.css' rel='stylesheet'>

<script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> 

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script type="text/javascript" src="js/app.js"></script>
<script type="text/javascript" src="js/domfilter.js"></script>
</head>

<script>
 

  const app = new App();
  
  require('electron').ipcRenderer.on('load-translate-phrase', (event, arg)=> {
    $('#app-container').attr('src' , 'http://localhost:3001/translate/' + arg);
  });

</script>

<body>
<div style="position: absolute; left: 10px; right: 10px; top: 10px; bottom: 10px;">
  <div class="well" style="float: left; width: 160px; padding: 8px;">
    <ul class="nav nav-list" id="sidebar">
      <li class="nav-header">Apps</li>
      <li class="active" >
        <a href="#"  id = 'home-item'  app-url ="home.html">'<i id = 'template' class="icon-white icon-home"></i> Home</a>
      </li>
      <li class="nav-header" id = 'applist-end' >Menu</li>
      <li><a href="#" nw-call="about" onclick="App.about()"><i class="fa fa-flag"></i>About</a></li>
      <li><a href='#' nw-call='translate' onclick="App.translate()"<i class="fa fa-book"></i>Translate</a></li>
      
    </ul>
  </div>

  <div style="float: left; position: absolute; left: 210px; right: 0; top: 0; bottom: 0">
  
    <div class="row" style="background: #FFF; -webkit-border-radius: 2px; margin: -5px 1px 0 -19px; height: 100%; overflow: hidden; ">
      
      <iframe src = 'home.html' id = 'app-container'   frameborder = '0'
          style= 'position: relative; height: 580px; width: 688px;'>
      </iframe>

  </div>
</div>


</body>

<script>
$(document).ready(function() {
  const iframe_height = document.getElementById('app-container').offsetHeight;
  const iframe_width = document.getElementById('app-container').offsetWidth;

  logger.log(`height = ${iframe_height}  width = ${iframe_width}`);
  $('#home-item').click((event)=>{
        event.preventDefault();
        App.activate(document.getElementById('home-item'));
  });

  App.addApp('Duolingo', 'http://www.duolingo.com/');
  App.addApp('Fluencia', 'https://app.fluencia.com/');  
  

});
</script>

</html>
